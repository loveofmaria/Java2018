#### Object 类的使用

###### Object 类时所有Java类的根父类

Object类只声明了一个空参的构造器

如果在类的声明中未使用extends关键字指明父类，则默认父类为java.lang.Object类

```java
public class Person{....}
// 等价于
public class Person extends Object{....}
// 列子 [ 可以接受任何 '类' 作为参数 ]
method(Object obj){....}
Person p = new Person();
method(p)
// 一个类的方法，可以查看当前类名称以及查看继承的父类
p.getClass() // => class Person    
p.getClass().getSuperclass() // => class java.lang.Object
```



###### Object类中通用的方法

| object.clone => protected Object | 克隆一个类的实例对象                                         |
| -------------------------------- | ------------------------------------------------------------ |
| object.equals => boolean         | 比较两个类的对象是否相等                                     |
| object.finalize =>               | java垃圾回收机制的方法，系统自动调用【不要主动调用该方法】   |
| object.getClass => String        | 返回当前类的名称                                             |
| object.getSuperclass => String   | 返回父类名称                                                 |
| object.hashCode => int           | 返回对象的hash码                                             |
| object.toString => String        | 对象打印时调用                                               |
| ....其他在方法在后续课程中解释   | .........................略......................................... |



###### 试题：== 和 equals 的区别

! 在使用==比较时，必须要保证左右两边的数据类型能够一致【转换也可以】

1. == 既可以比较基本数据类型也可以比较引用数据类型，对于基本类型就是比较值，对于引用数据类型就是比较内存地址；

2. equals 的话，它属于java.lang.Object类里面的方法，如果该方法没有被重写过，默认也是用 ==，我们可以看到String等类型的 equals 方法是被重写过的，而且String类在日常开发中用的比较多，久而久之，形成了equals是比较值的错误观点；

3. 具体要看定义类里有没有重写Object的equals方法来判断；

4. 通常，重写equals方法，会比较类中相应的属性是否相等。

5. 原始的Object的equals方法是{ this == obj }, 但是在String，Date，File，包装类等都重写了equals( ) 方法,比较的不是内存地址引用是否相同，而是比较“实际内容”是否相同；

6. String中重写equals方法重写：

   ```java
   public boolean equals(Object anObject) {
       if (this == anObject) {
           return true;
       }
       if (anObject instanceof String) {
           String aString = (String)anObject;
           if (coder() == aString.coder()) {
               return isLatin1() ? StringLatin1.equals(value, aString.value)
                   : StringUTF16.equals(value, aString.value);
           }
       }
       return false;
   }
   // 在自定义的类中如果没有重写 equals 方法，那么使用的就是 == ,比较的是内存中的地址值
   ```

   <img src="F:\Projects\Java2018\notes\images\equals()方法重写的原则.PNG" alt="equals()方法重写的原则" style="zoom:150%;" />

   

   #### 练习

   1. 编写Object类，有int型的orderId，String型的orderName，相应的getter()和setter()方法，两个参数构造器，重写父类的equals()方法：public boolean equals(Object obj), 并判断测试类中创建的两个对象是否相等;
   2. 根据下面的代码自行定义能满足需要的MyDate类，在MyDate类中覆盖equals方法，使其判断当两个MyDate类型对象的年月日都相同时，结果为true，否则为false;

   

   ###### toString 方法

   1. toString() 方法定义在 Object中，其返回值为String，返回类名和它的引用值【类名@引用值】

      ```java
      //Object默认的toString() 代码:
      public String toString() {
          // java中的内存地址值是一个由jvm通过hashCode()获取的16进制虚拟值,不是真正的内存地址
          return getClass().getName() + "@" + Integer.toHexString(hashCode());
      }
      ```

      

   2. 在进行String与其他类型数据的连接操作时，自动调用toString() 方法

      ```java
      Date now = new Date();
      System.out.println("now=" + now) // 相当于下面一句
      System.out.println("now=" + now.toString());    
      ```

   3. 可以根据实际需求在自定义类中重写toString()方法

      ```java
      // 在 String 类中就重写了 toString() 方法
      String s1 = "hello";
      System.out.println(s1);// println(s1.toString())
      ```

   4. 基本数据类型转换为String类型时，调用了对应包装类的toString()方法

      ```java
      int a = 10;
      System.out.println("a=" + a);
      ```

   5. 像String，Date，File，包装类等都重写了Object类中的toString()方法

   6. 练习：

      ```java
      /*
      	定义两个类，父类GeometricObject代表几何形状，子类Cirle代表圆形
      	父类：
      	protected String color
      	protected double weight
      	protected GeometricObject()
      	protected GeometricObject(String color, double weight)
      	getter,setter 方法
      	初始化属性为{color：white； weight：1.0}
      	
      	子类：
      	private double radius
      	public Circle()
      	public Circle(double radius)：初始化值同父类
      	public Circle(double radius, String color, double weight)
      	getter,setter方法
      	public double findArea():面积
      	public boolean equals(Object obj):重写 equals方法，实现半径值的相等判断
      	public String toString():重写toString()方法，输出圆半径
      	
      	测试类：
      	创建2个Circle对象，判断颜色是否相等；
      	使用equals()方法判断半径是否相等；
      	使用toString()方法输出其半径
      /*
      ```

      

   

   

   

